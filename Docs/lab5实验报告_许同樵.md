## Lab5 个人文档

许同樵 19302010015

### 1、参与内容

#### （1）新功能的所有前端实现
值得一提的是，我使用了类似知乎网页端的评论显示方法，将评论详情设为了一个提示框，在提示框内显示进一步的讨论。同时，这样一来可以减少后端的接口访问次数，增强稳定性。提示框由我使用的框架iviews提供，为标签为<Modal>，它提供了一系列方法，原本用于全局提示，我将其用作了类似附属页面的功能，在关闭时直接点击右上角的叉即可，以避免多分一页带来的逻辑上的麻烦。

#### （2）重构过程中前端的接口改变、修改前端bug
由于使用了多个端口，因此在vue.config.js中设置了多个proxy解决跨域问题，nginx.conf同理
另外修改了部分遗漏的bug，分页由前端完成，由于分页会遇到异步问题，因此观察应观察被分页数据。当数据改变时，要重新将页数返回至第一页。

#### （3）参与了后端部分内容的编写，涉及Browse、Copy的小部分功能，Comment的框架和部分功能
主要是修改了前端接口对接时遇到的问题，顺便写了下后端。其实在后端已架构好的情况下写是容易的（如果架构包括想好这个东西要怎么实现的过程的话），但是本次架构我几乎未参与，而且我觉得挺麻烦的。其实软件调试最大的困难不在于找这个bug的位置，而是找到bug后发现一改动全身的情况……另外，我觉得微服务实在是一个超大架构下才需要考虑的东西，这一个lab5我们直接重构整个lab，其实根本做不到所谓测试驱动，因为根本来不及，边写边构建的时间占了大多数。
另外，如果能自动生成repository类就好了，不知道有没有这个功能，现在还得每次重创建一个。

#### （4）参与了集成测试
前后端统一测试，使用了与yyc结对编程的方式。感觉华为云的流水线功能太拉了，bug一堆，动不动就失败。有幸我组有whw在服务器上有脚本，可以做到在服务器上使用脚本部署、显示报错内容。顺便由于云端测试的效率比本地低，我测试了一下自己使用前端的水平。从自我评价的角度来看，我还行，能手敲比较复杂的前端功能并保证不出现严重bug。

### 2、部分关键代码

####  分页中的主要方法切换页面（curPageComments为当前页面显示的评论，comments为所有的评论）
            changePage(index){
                let _start = ( index - 1 ) * this.pageSize;
                let _end = index * this.pageSize;
                this.curPageComments = this.comments.slice(_start,_end);
            }
